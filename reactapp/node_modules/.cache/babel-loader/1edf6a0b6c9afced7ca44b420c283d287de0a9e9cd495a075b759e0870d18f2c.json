{"ast":null,"code":"import _regeneratorRuntime from\"/media/digamber/9A8A313E8A311869/React/DjangoReact/codingindiareact/reactapp/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/media/digamber/9A8A313E8A311869/React/DjangoReact/codingindiareact/reactapp/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/media/digamber/9A8A313E8A311869/React/DjangoReact/codingindiareact/reactapp/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState}from'react';import Header from'../Header';import axios from'axios';import{Link}from'react-router-dom';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Login=function Login(){function getCookie(name){var value=\"; \".concat(document.cookie);var parts=value.split(\"; \".concat(name,\"=\"));if(parts.length===2)return parts.pop().split(\";\").shift();}var csrfToken=getCookie(\"csrftoken\");var _useState=useState({email:\"\",password:\"\"}),_useState2=_slicedToArray(_useState,2),formData=_useState2[0],setFormData=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),email=_useState4[0],setEmail=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),password=_useState6[0],setPassword=_useState6[1];var handleSubmit=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(e){var response;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:e.preventDefault();console.log(\"email: \",email);console.log(\"password1: \",password);_context.prev=3;_context.next=6;return axios.post('/Login/',{headers:{\"Content-Type\":\"application/json\",\"X-CSRFToken\":csrfToken},body:JSON.stringify({email:email,password:password})});case 6:response=_context.sent;if(response.ok){console.log('Data Saved');}else if(response.status===400){// Handle invalid email or password error\nalert('Invalid email or password');}_context.next=14;break;case 10:_context.prev=10;_context.t0=_context[\"catch\"](3);console.error(_context.t0);alert('Kya btau Aapko error hai');case 14:case\"end\":return _context.stop();}},_callee,null,[[3,10]]);}));return function handleSubmit(_x){return _ref.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(\"div\",{style:{background:\"#260037\",height:\"100vh\"},children:[/*#__PURE__*/_jsx(Header,{}),/*#__PURE__*/_jsxs(\"div\",{class:\"max-w-md mx-auto p-6 rounded-lg shadow-md\",children:[/*#__PURE__*/_jsx(\"h2\",{class:\"text-2xl font-bold mb-6 my-12 text-gray-100\",style:{marginTop:\"8rem\"},children:/*#__PURE__*/_jsx(\"strong\",{children:\"Log In\"})}),/*#__PURE__*/_jsxs(\"form\",{action:\"/Login/\",method:\"POST\",onSubmit:handleSubmit,children:[/*#__PURE__*/_jsxs(\"div\",{class:\"mb-4\",children:[/*#__PURE__*/_jsx(\"label\",{class:\"block font-medium mb-2 text-gray-100\",for:\"email\",children:\"Email\"}),/*#__PURE__*/_jsx(\"input\",{class:\"w-full px-4 py-2 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent\",type:\"email\",id:\"email\",name:\"email\",required:true,onChange:function onChange(e){return setEmail(e.target.value);}})]}),/*#__PURE__*/_jsxs(\"div\",{class:\"mb-4\",children:[/*#__PURE__*/_jsx(\"label\",{class:\"block font-medium mb-2 text-gray-100\",for:\"password\",children:\"Password\"}),/*#__PURE__*/_jsx(\"input\",{class:\"w-full px-4 py-2 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent\",type:\"password\",id:\"password\",name:\"password\",required:true,onChange:function onChange(e){return setPassword(e.target.value);}})]}),/*#__PURE__*/_jsx(\"button\",{class:\"w-full bg-blue-500 hover:bg-blue-600 text-white font-medium py-2 rounded-lg shadow-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2\",type:\"submit\",children:\"Log In\"})]}),/*#__PURE__*/_jsxs(\"p\",{class:\"text-gray-500 text-sm mt-4\",children:[\"Don't have an account? \",/*#__PURE__*/_jsx(Link,{class:\"text-blue-500 hover:text-blue-600 underline\",to:\"/SignUp/\",children:\"Sign up now\"}),\".\"]})]})]});};export default Login;","map":{"version":3,"names":["React","useEffect","useState","Header","axios","Link","Login","getCookie","name","value","document","cookie","parts","split","length","pop","shift","csrfToken","email","password","formData","setFormData","setEmail","setPassword","handleSubmit","e","preventDefault","console","log","post","headers","body","JSON","stringify","response","ok","status","alert","error","background","height","marginTop","target"],"sources":["/media/digamber/9A8A313E8A311869/React/DjangoReact/codingindiareact/reactapp/src/components/Auths/Login.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport Header from '../Header'\nimport axios from 'axios';\nimport { Link } from 'react-router-dom';\n\nconst Login = () => {\n    function getCookie(name) {\n        const value = `; ${document.cookie}`;\n        const parts = value.split(`; ${name}=`);\n        if (parts.length === 2) return parts.pop().split(\";\").shift();\n    }\n    const csrfToken = getCookie(\"csrftoken\");\n\n    const [formData, setFormData] = useState({\n        email: \"\",\n        password: \"\",\n    });\n    const [email, setEmail] = useState('');\n    const [password, setPassword] = useState('');\n\n    const handleSubmit = async (e) => {\n        e.preventDefault();\n        console.log(\"email: \", email)\n        console.log(\"password1: \", password)\n\n        try {\n            const response = await axios.post('/Login/', {\n                headers: {\n                    \"Content-Type\": \"application/json\",\n                    \"X-CSRFToken\": csrfToken,\n                },\n                body: JSON.stringify({ email, password }),\n            });\n\n            if (response.ok) {\n                console.log('Data Saved');\n            } else if (response.status === 400) {\n                // Handle invalid email or password error\n                alert('Invalid email or password');\n            }\n        }\n        catch (error) {\n            console.error(error);\n            alert('Kya btau Aapko error hai');\n        }\n    };\n\n\n    return (\n        <div style={{ background: \"#260037\", height: \"100vh\", }} >\n            <Header />\n            <div class=\"max-w-md mx-auto p-6 rounded-lg shadow-md\">\n                <h2 class=\"text-2xl font-bold mb-6 my-12 text-gray-100\" style={{ marginTop: \"8rem\" }}><strong>Log In</strong></h2>\n                <form action='/Login/' method=\"POST\" onSubmit={handleSubmit}>\n                    <div class=\"mb-4\">\n                        <label class=\"block font-medium mb-2 text-gray-100\" for=\"email\">Email</label>\n                        <input class=\"w-full px-4 py-2 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent\" type=\"email\" id=\"email\" name=\"email\" required onChange={(e) => setEmail(e.target.value)} />\n                    </div>\n                    <div class=\"mb-4\">\n                        <label class=\"block font-medium mb-2 text-gray-100\" for=\"password\">Password</label>\n                        <input class=\"w-full px-4 py-2 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent\" type=\"password\" id=\"password\" name=\"password\" required onChange={(e) => setPassword(e.target.value)} />\n                    </div>\n                    <button class=\"w-full bg-blue-500 hover:bg-blue-600 text-white font-medium py-2 rounded-lg shadow-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2\" type=\"submit\">Log In</button>\n                </form>\n                <p class=\"text-gray-500 text-sm mt-4\">Don't have an account? <Link class=\"text-blue-500 hover:text-blue-600 underline\" to=\"/SignUp/\">Sign up now</Link>.</p>\n            </div>\n        </div>\n\n    )\n}\n\nexport default Login"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}